<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.daemonz.controller.HomeController"
            prefWidth="980.0" prefHeight="620.0">

    <!-- PAGE PADDING -->
    <padding>
        <Insets top="14" right="14" bottom="14" left="14"/>
    </padding>

    <!-- HEADER -->
    <top>
        <VBox spacing="10">
            <Label text="Home" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
            <Separator/>
        </VBox>
    </top>

    <!-- MAIN -->
    <center>
        <VBox spacing="14">

            <!-- Connection / Profile Card -->
            <VBox spacing="10" style="-fx-border-color: #2b2b2b; -fx-border-radius: 6; -fx-background-radius: 6;">
                <padding>
                    <Insets top="12" right="12" bottom="12" left="12"/>
                </padding>

                <GridPane hgap="12" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints minWidth="90" hgrow="NEVER"/>
                        <ColumnConstraints minWidth="220" hgrow="ALWAYS"/>
                        <ColumnConstraints minWidth="70" hgrow="NEVER"/>
                        <ColumnConstraints minWidth="160" hgrow="NEVER"/>
                        <ColumnConstraints minWidth="70" hgrow="NEVER"/>
                        <ColumnConstraints minWidth="220" hgrow="ALWAYS"/>
                    </columnConstraints>

                    <!-- Row 0: Profile + Mode + Exchange -->
                    <Label text="Profile:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                    <Label text="Coming Soon" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                    <Label text="Mode:" GridPane.rowIndex="0" GridPane.columnIndex="2"/>
                    <ChoiceBox fx:id="modeChoice" prefWidth="150.0" GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                    <Label text="Exchange:" GridPane.rowIndex="0" GridPane.columnIndex="4"/>
                    <Label text="Binance Futures (USDT-M)" GridPane.rowIndex="0" GridPane.columnIndex="5"/>

                    <!-- Row 1: Status + Buttons -->
                    <Label text="Status:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                    <Label fx:id="lbStatus" text="❌ Disconnected" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                    <HBox spacing="10" GridPane.rowIndex="1" GridPane.columnIndex="3" GridPane.columnSpan="3">
                        <Button fx:id="testBtn" text="Refresh" maxWidth="Infinity" HBox.hgrow="ALWAYS"/>
                        <Button fx:id="authBtn" text="Authentication" maxWidth="Infinity" HBox.hgrow="ALWAYS"/>
                    </HBox>

                    <!-- Row 2: Permissions -->
                    <Label text="Permissions:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>

                    <HBox spacing="8" GridPane.rowIndex="2" GridPane.columnIndex="1">
                        <Label text="Trade:"/>
                        <Label fx:id="lbTrade" text="--"/>
                    </HBox>

                    <HBox spacing="8" GridPane.rowIndex="2" GridPane.columnIndex="2" GridPane.columnSpan="2">
                        <Label text="Withdraw:"/>
                        <Label fx:id="lbWithdraw" text="--"/>
                    </HBox>

                    <HBox spacing="8" GridPane.rowIndex="2" GridPane.columnIndex="4">
                        <Label text="Deposit:"/>
                        <Label fx:id="lbDeposit" text="--"/>
                    </HBox>

                    <HBox spacing="8" GridPane.rowIndex="2" GridPane.columnIndex="5">
                        <Label text="MultiAssetsMargin:"/>
                        <Label fx:id="lbMargin" text="--"/>
                    </HBox>
                </GridPane>
            </VBox>

            <!-- Stats Card -->
            <VBox spacing="10" style="-fx-border-color: #2b2b2b; -fx-border-radius: 6; -fx-background-radius: 6;">
                <padding>
                    <Insets top="12" right="12" bottom="12" left="12"/>
                </padding>

                <Label text="Account Snapshot" style="-fx-font-weight: bold;"/>

                <GridPane hgap="18" vgap="6">
                    <columnConstraints>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="180"/>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="180"/>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="180"/>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="180"/>
                    </columnConstraints>

                    <!-- Titles -->
                    <Label text="TOTAL WALLET" style="-fx-opacity: 0.8;" GridPane.rowIndex="0"
                           GridPane.columnIndex="0"/>
                    <Label text="AVAILABLE" style="-fx-opacity: 0.8;" GridPane.rowIndex="0" GridPane.columnIndex="1"/>
                    <Label text="UNREALIZED PnL" style="-fx-opacity: 0.8;" GridPane.rowIndex="0"
                           GridPane.columnIndex="2"/>
                    <Label text="MARGIN MODE" style="-fx-opacity: 0.8;" GridPane.rowIndex="0" GridPane.columnIndex="3"/>

                    <!-- Values (keep fx:id) -->
                    <Label fx:id="balanceLb" text="--" style="-fx-font-size: 16px; -fx-font-weight: bold;"
                           GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                    <Label fx:id="tfAvailable" text="--" style="-fx-font-size: 16px; -fx-font-weight: bold;"
                           GridPane.rowIndex="1" GridPane.columnIndex="1"/>
                    <Label fx:id="pnlLabel" text="--" style="-fx-font-size: 16px; -fx-font-weight: bold;"
                           GridPane.rowIndex="1" GridPane.columnIndex="2"/>
                    <Label fx:id="lbMarginMode" text="--" style="-fx-font-size: 16px; -fx-font-weight: bold;"
                           GridPane.rowIndex="1" GridPane.columnIndex="3"/>
                </GridPane>
            </VBox>

            <!-- Balances Card -->
            <VBox spacing="10" VBox.vgrow="ALWAYS"
                  style="-fx-border-color: #2b2b2b; -fx-border-radius: 6; -fx-background-radius: 6;">
                <padding>
                    <Insets top="12" right="12" bottom="12" left="12"/>
                </padding>

                <HBox spacing="10">
                    <Label text="Balances" style="-fx-font-weight: bold;"/>
                    <Pane HBox.hgrow="ALWAYS"/>
                    <Label text="Search:"/>
                    <!-- (giữ không đặt fx:id để khỏi đụng logic hiện tại; nếu muốn wire sau thì thêm fx:id) -->
                    <TextField promptText="BTC / USDT / ..." prefWidth="220"/>
                    <CheckBox text="Show zero balances"/>
                </HBox>

                <!-- (giữ TableView không có fx:id để khỏi đụng logic; bạn wire sau vẫn được) -->
                <TableView VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn text="Asset" prefWidth="120"/>
                        <TableColumn text="Wallet" prefWidth="180"/>
                        <TableColumn text="Available" prefWidth="180"/>
                        <TableColumn text="Cross Wallet" prefWidth="180"/>
                    </columns>
                </TableView>
            </VBox>

        </VBox>
    </center>

</BorderPane>
